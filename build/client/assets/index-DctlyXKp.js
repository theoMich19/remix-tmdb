import{R as n}from"./components-BiZKUSio.js";const C=/<([a-zA-Z0-9]+)>(.*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,I=/(?:\r\n|\r|\n)/g,k={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function E(e,t={}){const s=R(0,"$lingui$"),r=e.replace(I,"").split(C);if(r.length===1)return e;const o=[],i=r.shift();i&&o.push(i);for(const[l,u,a]of b(r)){let c=typeof l<"u"?t[l]:void 0;(!c||k[c.type]&&u)&&(console.error(c?`${c.type} is a void element tag therefore it must have no children`:`Can't use element at index '${l}' as it is not declared in the original translation`),c=n.createElement(n.Fragment)),Array.isArray(c)&&(c=n.createElement(n.Fragment,{},c)),o.push(n.cloneElement(c,{key:s()},u?E(u,t):c.props.children)),a&&o.push(a)}return o}function b(e){if(!e.length)return[];const[t,s,r,o]=e.slice(0,4);return[[t||r,s||"",o]].concat(b(e.slice(4,e.length)))}const R=(e=0,t="")=>()=>`${t}_${e++}`;function $(e){const{render:t,component:s,id:r,message:o,formats:i,lingui:{i18n:l,defaultComponent:u}}=e,a={...e.values},c={...e.components};a&&Object.keys(a).forEach(h=>{const f=a[h];if(!(n.isValidElement(f)||Array.isArray(f)&&f.every(n.isValidElement)))return;const v=Object.keys(c).length;c[v]=f,a[h]=`<${v}/>`});const p=l&&typeof l._=="function"?l._(r,a,{message:o,formats:i}):r,m=p?E(p,c):null;if(t===null||s===null)return m;const g=u||A,d={id:r,message:o,translation:m,isTranslated:r!==m&&o!==m,children:m};if(t&&s)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(t&&typeof t!="function")console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${t}`);else if(s&&typeof s!="function")return console.error(`Invalid value supplied to prop \`component\`. It must be a React component, provided ${s}`),n.createElement(g,d,m);if(typeof t=="function")return t(d);const x=s||g;return n.createElement(x,d,m)}const A=({children:e})=>n.createElement(n.Fragment,null,e),y=n.createContext(null),F=e=>n.useContext(y),L=({i18n:e,defaultComponent:t,children:s})=>{const r=n.useRef(e.locale),o=n.useCallback(()=>({i18n:e,defaultComponent:t,_:e.t.bind(e)}),[e,t]),[i,l]=n.useState(o());return n.useEffect(()=>{const u=()=>{r.current=e.locale,l(o())},a=e.on("change",u);return r.current!==e.locale&&u(),a},[e,o]),r.current?n.createElement(y.Provider,{value:i},s):null};function P(e){const t=F();return n.createElement($,{...e,lingui:t})}export{L as I,P as T};
